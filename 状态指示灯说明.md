# 智能烤箱控制器状态指示灯说明

## 状态指示灯功能概述

设备上的LED指示灯现在可以直观地显示设备的不同工作状态，让您无需查看串口输出就能了解设备状态。

## LED状态模式说明

### 1. **LED关闭**
- **模式**: LED_OFF
- **状态**: LED不亮
- **含义**: 设备未使用或特殊状态

### 2. **LED常亮**
- **模式**: LED_ON
- **状态**: LED持续亮起
- **含义**: **设备正在加热中**
- **优先级**: 最高（加热状态优先显示）

### 3. **LED慢闪**
- **模式**: LED_SLOW
- **状态**: 1秒周期闪烁（亮0.5秒，灭0.5秒）
- **含义**: **WiFi连接正常，设备待机**
- **说明**: 设备已成功连接到WiFi，等待用户指令

### 4. **LED快闪**
- **模式**: LED_FAST
- **状态**: 0.5秒周期闪烁（亮0.25秒，灭0.25秒）
- **含义**: **WiFi连接失败，设备离线运行**
- **说明**: 设备无法连接到WiFi，但温度控制功能仍然可用

### 5. **LED极快闪**
- **模式**: LED_VERY_FAST
- **状态**: 0.2秒周期闪烁（亮0.1秒，灭0.1秒）
- **含义**: **设备出现错误**
- **可能原因**:
  - 温度传感器故障
  - 温度读数异常
  - 其他硬件问题

## 状态优先级

状态指示灯按照以下优先级显示（从高到低）：

1. **温度传感器错误** → LED极快闪
2. **加热状态** → LED常亮
3. **WiFi连接状态** → 慢闪（正常）或快闪（失败）

## 设备启动过程指示灯变化

### 正常启动流程：
1. **上电测试**：LED常亮 → 蜂鸣器测试 → LED关闭
2. **WiFi连接**：LED快闪（连接过程中）
3. **连接成功**：LED慢闪（待机状态）
4. **开始加热**：LED常亮（加热中）
5. **停止加热**：LED慢闪（返回待机）

### 异常启动流程：
1. **上电测试**：LED常亮 → 蜂鸣器测试 → LED关闭
2. **WiFi连接失败**：LED快闪（离线模式）
3. **温度传感器错误**：LED极快闪（错误状态）

## 故障诊断指南

### 如果LED不亮：
- 检查设备电源
- 检查LED引脚连接（D4）
- 检查设备是否正常启动

### 如果LED持续快闪：
- 检查WiFi名称和密码
- 检查路由器是否正常工作
- 检查设备是否在信号范围内

### 如果LED极快闪：
- 检查温度传感器连接
- 检查MAX6675模块接线
- 检查热电偶是否损坏

### 如果LED不按预期变化：
- 打开串口监视器查看详细状态信息
- 检查设备日志输出

## 状态指示灯与蜂鸣器配合

设备还会通过蜂鸣器声音提供额外的状态反馈：

- **启动成功**：两声短促的"滴"声
- **WiFi连接失败**：两声长"滴"声
- **温度异常**：两声急促的"滴"声
- **操作确认**：单声"滴"声

## 实际应用示例

### 场景1：正常使用
- 设备启动 → LED快闪（连接WiFi）
- 连接成功 → LED慢闪（待机）
- 开始加热 → LED常亮（加热中）
- 加热完成 → LED慢闪（待机）

### 场景2：WiFi问题
- 设备启动 → LED快闪（尝试连接）
- 连接失败 → LED快闪（离线模式）
- 开始加热 → LED常亮（加热中）
- 加热完成 → LED快闪（离线待机）

### 场景3：传感器故障
- 设备启动 → LED极快闪（检测到错误）
- 持续报警 → LED极快闪（需要维修）

## 技术说明

- **LED引脚**: D4（GPIO2）
- **控制方式**: 软件PWM控制
- **更新频率**: 每循环更新一次
- **优先级处理**: 硬件错误 > 加热状态 > 网络状态

---
*状态指示灯功能版本：v2.1*