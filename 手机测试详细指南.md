# 手机APP测试详细指南

## 当前状态确认
- ✅ 设备固件工作正常
- ✅ 端口配置正确 (8888 ↔ 8888)
- ✅ 网络通信正常
- ✅ TCP连接正常

## 手机端排查步骤

### 1. 检查网络环境
- 确保手机和设备连接到**同一个WiFi网络**
- 检查手机IP地址是否与设备在同一网段 (192.168.16.x)
- 关闭手机移动数据，仅使用WiFi

### 2. 检查APP权限
- 在手机设置中，找到SmartOven应用
- 确保授予以下权限：
  - **网络访问权限**
  - **本地网络发现权限**
  - **存储权限**（如果需要）

### 3. 重新安装APP
1. 卸载现有的SmartOven应用
2. 安装新编译的APK：`f:\Github\SmartOvenController\SmartOvenApp\app\build\outputs\apk\debug\app-debug.apk`
3. 首次启动时，确保授予所有请求的权限

### 4. 清除APP数据
- 进入手机设置 → 应用管理 → SmartOven
- 选择"清除数据"和"清除缓存"
- 重新启动APP

### 5. 测试步骤
1. 打开SmartOven APP
2. 点击"扫描设备"或"发现设备"按钮
3. 等待30-60秒，观察是否有设备出现
4. 如果发现设备，尝试连接并控制

## 如果仍然无法发现设备

### 检查手机网络设置
- 确保WiFi没有启用"隔离模式"或"访客模式"
- 检查路由器设置，确保设备间通信没有被阻止
- 尝试重启路由器和设备

### 使用网络诊断工具
- 在手机上安装网络扫描工具（如Fing）
- 扫描局域网，确认设备IP地址是否可见
- 检查设备是否真的在线

### 替代测试方法
如果APP仍然无法发现设备，可以使用以下方法验证：
1. 在电脑上运行测试脚本确认设备在线
2. 使用其他设备（如另一部手机）测试
3. 检查设备日志确认是否收到发现请求

## 紧急联系方式
如果以上步骤都无法解决问题，请提供：
- 手机型号和Android版本
- 路由器型号和网络配置
- 设备启动时的串口日志
- APP运行时的错误日志

这样可以帮助进一步诊断问题。