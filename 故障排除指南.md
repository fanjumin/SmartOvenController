# 智能烤箱控制器故障排除指南

## 设备无反应问题排查

### 1. 检查电源和连接
- ✅ 确保ESP8266开发板供电正常（USB线连接可靠）
- ✅ 检查所有传感器和继电器连接是否牢固
- ✅ 确认MAX6675温度传感器接线正确

### 2. 串口监控调试
打开串口监视器（波特率115200），观察启动信息：

**正常启动信息示例：**
```
智能烤箱控制器启动中...
版本: v2.1
测试蜂鸣器和LED...
正在连接WiFi...
SSID: CamView-0_2.4G
....
WiFi连接成功!
IP地址: 192.168.1.100
HTTP服务器已启动
可以通过以下地址访问控制界面:
http://192.168.1.100
系统初始化完成!
```

**常见问题及解决方案：**

#### 问题1：串口无输出
- 🔍 检查USB线连接
- 🔍 确认串口波特率设置为115200
- 🔍 尝试重新插拔USB线
- 🔍 检查设备管理器中的COM端口

#### 问题2：WiFi连接失败
```
WiFi连接超时!
请检查:
1. WiFi名称和密码是否正确
2. 路由器是否正常工作
3. 设备是否在路由器信号范围内
```

**解决方案：**
- 📱 确认WiFi名称和密码正确
- 📶 检查路由器2.4GHz频段是否开启
- 📡 确保设备在路由器信号范围内
- 🔄 尝试重启路由器

#### 问题3：温度传感器异常
```
温度传感器读数异常!
```

**解决方案：**
- 🔌 检查MAX6675接线：
  - CLK → D5
  - CS → D6  
  - DO → D7
  - VCC → 3.3V
  - GND → GND
- 🌡️ 确认热电偶连接正确

## 引脚定义检查

### NodeMCU引脚对应关系
| 功能 | NodeMCU引脚 | 开发板标记 |
|------|-------------|------------|
| 继电器控制 | D1 | GPIO5 |
| 蜂鸣器 | D2 | GPIO4 |
| LED指示灯 | D4 | GPIO2 |
| MAX6675 CLK | D5 | GPIO14 |
| MAX6675 CS | D6 | GPIO12 |
| MAX6675 DO | D7 | GPIO13 |

### 硬件连接验证
1. **LED指示灯测试**：启动时LED应闪烁，连接成功后常亮
2. **蜂鸣器测试**：启动时应有提示音
3. **继电器测试**：加热时应有"咔哒"声

## WiFi配置修改

如果需要修改WiFi设置，编辑以下代码：
```cpp
// WiFi配置
const char* ssid = "你的WiFi名称";
const char* password = "你的WiFi密码";
```

**重要提示：**
- 仅支持2.4GHz WiFi网络
- 确保WiFi密码正确
- 避免使用特殊字符

## 常见错误代码说明

| WiFi状态码 | 含义 | 解决方案 |
|-----------|------|----------|
| WL_CONNECTED (3) | 连接成功 | 正常状态 |
| WL_NO_SSID_AVAIL (1) | 网络不可用 | 检查SSID |
| WL_CONNECT_FAILED (4) | 连接失败 | 检查密码 |
| WL_CONNECTION_LOST (5) | 连接丢失 | 重新连接 |
| WL_DISCONNECTED (6) | 未连接 | 检查网络 |

## 快速测试步骤

1. **基础功能测试**
   - 上传代码到设备
   - 打开串口监视器（115200波特率）
   - 观察启动信息

2. **WiFi连接测试**
   - 确认看到"WiFi连接成功"信息
   - 记录显示的IP地址
   - 在浏览器中访问该IP地址

3. **温度控制测试**
   - 通过Web界面设置目标温度
   - 观察温度读数变化
   - 测试开始/停止功能

## 紧急恢复措施

如果设备完全无响应：
1. 断开电源重新连接
2. 检查所有硬件连接
3. 重新上传固件
4. 检查串口输出信息

## 技术支持

如果以上步骤无法解决问题：
1. 记录完整的串口输出信息
2. 拍照硬件连接情况
3. 联系技术支持提供详细信息

---
*最后更新：v2.1 故障排除版*