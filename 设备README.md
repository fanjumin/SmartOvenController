# SmartOven 智能电烤箱控制器

<div align="center">

![SmartOven Logo](https://img.shields.io/badge/SmartOven-智能烤箱控制器-blue?style=for-the-badge&logo=arduino)
![ESP8266](https://img.shields.io/badge/ESP8266-NodeMCU-green?style=flat&logo=espressif)
![温度控制](https://img.shields.io/badge/温度控制-PID算法-orange?style=flat)
![多设备](https://img.shields.io/badge/多设备-自动识别-brightgreen?style=flat)

**将传统电烤箱升级为智能烤箱的完整解决方案**

[功能特性](#-功能特性) • [快速开始](#-快速开始) • [技术规格](#-技术规格) • [使用指南](#-使用指南)

</div>

## 🚀 项目简介

SmartOven是一个基于ESP8266的开源智能电烤箱控制器项目，通过添加精确的温度控制、远程Web界面和多设备管理功能，将普通电烤箱升级为智能烤箱。

### 🎯 核心价值
- **🔧 硬件升级**: 无需更换烤箱，低成本智能化改造
- **🌐 远程控制**: 通过手机/电脑远程监控和控制烤箱
- **📊 精确控温**: PID算法实现精确温度控制
- **🔍 多设备管理**: 支持同时管理多个烤箱设备

## ✨ 功能特性

### 核心功能
| 功能 | 状态 | 描述 |
|------|------|------|
| ✅ 精确温度控制 | 已完成 | MAX6675 K型热电偶，0-1024°C范围 |
| ✅ Web远程控制 | 已完成 | 响应式Web界面，支持PC/移动端 |
| ✅ 多设备识别 | 已完成 | 自动发现和识别网络中的烤箱设备 |
| ✅ Captive Portal配网 | 已完成 | 无需预配置，设备自动创建配网热点 |
| ✅ PID温度调节 | 已完成 | 自适应PID控制算法，±2°C精度 |
| ✅ 安全报警系统 | 已完成 | 温度异常、设备故障实时报警 |

### 高级功能
| 功能 | 状态 | 描述 |
|------|------|------|
| 🔄 OTA固件升级 | 开发中 | 无线固件更新功能 |
| 📈 温度曲线编程 | 规划中 | 多段温度曲线控制 |
| ☁️ 云端数据同步 | 规划中 | 温度数据云端记录和分析 |
| 🤖 语音控制 | 规划中 | 语音助手集成 |

## 🛠️ 硬件组成

### 核心组件清单
| 组件 | 型号 | 数量 | 备注 |
|------|------|------|------|
| 主控板 | ESP8266 NodeMCU | 1 | 80MHz, 4MB Flash |
| 温度传感器 | MAX6675 + K型热电偶 | 1 | 0-1024°C测量范围 |
| 继电器 | 固态继电器 25A/250V | 1 | 过零触发，安全隔离 |
| 蜂鸣器 | 有源蜂鸣器 5V | 1 | 报警提示 |
| LED指示灯 | 5mm LED | 1 | 设备状态指示 |

### 引脚连接表
| 功能 | ESP8266引脚 | 连接说明 |
|------|-------------|----------|
| MAX6675 CLK | D5 (GPIO14) | 时钟信号线 |
| MAX6675 CS | D6 (GPIO12) | 片选信号 |
| MAX6675 DO | D7 (GPIO13) | 数据输出 |
| 继电器控制 | D1 (GPIO5) | 加热控制信号 |
| 蜂鸣器 | D2 (GPIO4) | 报警声音输出 |
| LED指示灯 | D4 (GPIO2) | 状态指示灯 |

## 🚀 快速开始

### 第一步：硬件准备
1. 按照[电路连接图.md](电路连接图.md)完成硬件连接
2. 确保所有连接牢固可靠
3. 连接5V电源到ESP8266

### 第二步：设备上电
```bash
# 设备上电后将显示以下状态：
# - LED红色常亮：设备启动中
# - LED绿色慢闪：WiFi连接成功
# - LED黄色快闪：等待配网
```

### 第三步：网络配置
#### 方法A：Captive Portal配网（推荐）
1. 手机连接 "SmartOven" WiFi热点
2. 浏览器访问 `http://192.168.4.1`
3. 输入您的WiFi名称和密码
4. 设备自动重启并连接网络

#### 方法B：代码预配置
修改 `SmartOvenController.ino` 中的配置：
```cpp
// WiFi配置
const char* sta_ssid = "您的WiFi名称";
const char* sta_password = "您的WiFi密码";
```

### 第四步：访问控制界面
设备连接成功后，通过以下方式访问：
- **Web界面**: 浏览器输入设备IP地址
- **手机APP**: 下载SmartOven APP自动发现设备
- **串口监视器**: 查看设备状态和调试信息

## 📱 使用指南

### 基本操作
1. **温度设置**: 在Web界面设置目标温度（50-300°C）
2. **开始加热**: 点击"开始加热"按钮
3. **状态监控**: 实时查看当前温度和加热状态
4. **停止加热**: 点击"停止"按钮或达到目标温度自动停止

### 多设备管理
设备支持同时管理多个烤箱：
1. **自动发现**: 设备启动后自动广播设备信息
2. **设备列表**: Web界面显示所有发现的设备
3. **设备选择**: 选择要控制的特定设备
4. **状态同步**: 实时同步各设备温度状态

### 安全功能
- **温度保护**: 超过安全温度自动切断加热
- **看门狗**: 系统异常自动重启
- **连接监控**: 网络断开自动进入安全模式

## 🔧 技术规格

### 性能指标
| 参数 | 规格 | 测试条件 |
|------|------|----------|
| 温度范围 | 0-1024°C | K型热电偶测量范围 |
| 控制精度 | ±2°C | 稳态温度控制 |
| 响应时间 | < 5秒 | 温度变化响应 |
| 网络延迟 | < 100ms | 局域网控制延迟 |
| 功耗 | 2-3W | 待机状态 |

### 通信协议
#### 设备发现协议
```
广播消息: DISCOVER_SMARTOVEN
响应格式: DEVICE_INFO:NAME:SmartOven-XXXXXX,MAC:XX:XX:XX:XX:XX:XX,IP:192.168.1.100
```

#### Web API接口
```http
GET /status          # 获取设备状态
POST /setTemp        # 设置目标温度  
POST /startHeating   # 开始加热
POST /stopHeating    # 停止加热
```

## 🐛 故障排除

### 常见问题解决方案

#### 设备无法启动
**症状**: LED不亮或异常闪烁  
**解决**: 
- 检查5V电源连接
- 确认USB数据线质量
- 测量电源电压是否稳定

#### WiFi连接失败  
**症状**: LED黄色快闪  
**解决**:
- 确认WiFi名称密码正确
- 检查路由器信号强度
- 尝试Captive Portal配网
- 重启路由器和设备

#### 温度读数异常
**症状**: 温度显示不准确或跳动  
**解决**:
- 检查热电偶连接是否牢固
- 确认MAX6675模块正常工作
- 检查引脚定义是否正确
- 测量热电偶电阻值

#### Web界面无法访问
**症状**: 无法打开设备IP页面  
**解决**:
- 确认设备IP地址正确
- 检查设备网络连接状态
- 尝试ping设备IP地址
- 重启设备Web服务

### LED状态代码
| LED模式 | 含义 | 操作建议 |
|---------|------|----------|
| 🔴 常亮 | 设备启动中 | 等待初始化完成 |
| 🟢 慢闪 | WiFi已连接 | 正常使用状态 |
| 🟡 快闪 | 等待配网 | 进行网络配置 |
| 🔵 极快闪 | 连接失败 | 检查网络设置 |
| 🔴 双闪 | 传感器故障 | 检查温度传感器 |

## 🔄 固件升级

### 当前升级方式
1. **串口升级**: 使用Arduino IDE通过USB连接升级
2. **手动上传**: 选择正确端口和开发板类型后上传

### 未来升级计划
- **OTA升级**: 通过Web界面无线升级固件
- **版本管理**: 自动版本检测和升级提示
- **备份恢复**: 升级前自动备份配置

## 📊 项目结构

```
SmartOvenController/
├── SmartOvenController.ino      # 主设备固件
├── SmartOvenApp/                # Android控制APP
│   ├── app/src/main/java/...    # APP源代码
│   └── 多设备识别功能说明.md     # APP功能文档
├── 文档资源/
│   ├── 电路连接图.md           # 硬件连接说明
│   ├── 物料清单.md             # 组件采购指南
│   ├── 安装指南.md             # 详细安装步骤
│   └── 设备使用说明.md         # 用户手册
├── README.md                    # 项目总说明
└── 设备README.md               # 设备专用说明（本文档）
```

## 🤝 贡献指南

我们欢迎各种形式的贡献！

### 如何贡献
1. Fork本项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启Pull Request

### 贡献领域
- 🐛 Bug修复
- 💡 新功能建议
- 📚 文档改进
- 🔧 性能优化
- 🌐 多语言支持

## 📄 许可证

本项目采用 **MIT 许可证** - 查看 [LICENSE](LICENSE) 文件了解详情。

## ⚠️ 安全警告

**重要安全注意事项**:

- 🔌 本项目涉及220V高压电操作
- ⚡ 操作前请确保具备电气安全知识
- 🔥 加热过程中勿触摸加热元件
- 👁️ 避免长时间无人值守运行
- 📍 定期检查设备连接状态

**免责声明**: 作者不对因使用本项目造成的任何设备损坏、人身伤害或财产损失负责。请在专业人士指导下进行操作。

## 📞 技术支持

### 文档资源
- [完整用户手册](设备使用说明.md)
- [硬件连接指南](电路连接图.md)
- [故障排除指南](故障排除指南.md)
- [API接口文档](API文档.md)

### 社区支持
- 📋 [GitHub Issues](https://github.com/your-repo/issues) - 报告Bug和功能请求
- 💬 [讨论区](https://github.com/your-repo/discussions) - 技术讨论和经验分享
- 📖 [项目Wiki](https://github.com/your-repo/wiki) - 详细技术文档

---

<div align="center">

**🔥 让烘焙变得更智能、更精确、更安全！**  
**🛠️ 开源智能烤箱控制器解决方案**

*如果您觉得这个项目有帮助，请给个⭐Star支持一下！*

</div>