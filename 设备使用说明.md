# 智能电烤箱控制器 - 设备使用说明

## 📋 设备概述

**SmartOven智能电烤箱控制器**是基于ESP8266微控制器的智能温度控制系统，可将传统电烤箱升级为智能烤箱。设备支持精确的PID温度控制、远程Web控制、多设备识别和Captive Portal配网功能。

### 🎯 核心特性

- **🔧 精确温度控制**: MAX6675 K型热电偶，0-1024°C测量范围，±2°C精度
- **🌐 远程Web控制**: 响应式Web界面，支持PC和移动端访问
- **📱 多设备识别**: 支持同时识别和控制多个烤箱设备
- **🔗 Captive Portal配网**: 无需预配置，设备自动创建配网热点
- **⚡ PID智能调节**: 自适应PID温度控制算法
- **🔔 安全报警**: 温度异常、设备故障实时报警
- **💡 状态指示**: 多模式LED状态指示灯
- **⏰ 定时功能**: 精确的加热时间控制

## 🚀 快速开始

### 1. 设备上电

将设备连接到电源后：
- 设备将自动启动并尝试连接已配置的WiFi网络
- 如果无法连接WiFi，设备将进入Captive Portal配网模式
- LED指示灯将显示当前设备状态

### 2. LED状态指示

| LED模式 | 状态说明 | 设备状态 |
|---------|----------|----------|
| 🔴 常亮 | 设备启动中 | 初始化阶段 |
| 🟢 慢闪 (1秒) | WiFi已连接 | 正常运行 |
| 🟡 快闪 (0.5秒) | Captive Portal模式 | 等待配网 |
| 🔵 极快闪 (0.2秒) | WiFi连接失败 | 需要检查网络 |

### 3. 网络连接

#### 方式一：Captive Portal配网（推荐）
1. 设备上电后，在手机WiFi列表中找到 "SmartOven" 热点
2. 连接该热点（无需密码）
3. 浏览器自动打开配网页面，或手动访问 `http://192.168.4.1`
4. 输入您的WiFi名称和密码
5. 设备将自动重启并连接到指定网络

#### 方式二：预配置WiFi
修改设备代码中的WiFi配置：
```cpp
const char* sta_ssid = "您的WiFi名称";
const char* sta_password = "您的WiFi密码";
```

### 4. 访问控制界面

设备连接成功后：
1. 查看串口输出获取设备IP地址
2. 在浏览器中输入设备IP地址
3. 或使用手机APP扫描网络中的设备

## 🔍 多设备识别功能

### 设备发现协议
设备支持UDP广播发现协议，可自动识别同一网络中的所有烤箱设备：

- **发现端口**: UDP 8888
- **响应端口**: UDP 8889
- **设备标识**: 基于MAC地址的唯一设备ID

### 设备信息格式
```
DEVICE_INFO:NAME:SmartOven-XXXXXX,MAC:XX:XX:XX:XX:XX:XX,IP:192.168.1.100,
PORT:8080,TYPE:SMARTOVEN,VERSION:1.0,TEMP:25.50,TARGET:180.00,
HEAT:OFF,MODE:NORMAL,UPTIME:3600,DEVICE_ID:SmartOven-XXXXXX
```

## 🎛️ 控制功能详解

### 温度控制
- **温度范围**: 50°C - 300°C
- **控制精度**: ±2°C
- **响应时间**: < 5秒

### 加热模式
1. **手动模式**: 直接设置目标温度
2. **定时模式**: 设置加热时长
3. **曲线模式**: 多段温度曲线编程

### PID参数调节（高级功能）
- **比例系数 (Kp)**: 2.0（默认）
- **积分系数 (Ki)**: 0.1（默认）
- **微分系数 (Kd)**: 1.0（默认）

## 📊 技术规格

### 硬件规格
| 参数 | 规格 | 说明 |
|------|------|------|
| 主控芯片 | ESP8266 | 80MHz, 4MB Flash |
| 温度传感器 | MAX6675 | K型热电偶，0-1024°C |
| 继电器规格 | 25A/250V | 固态继电器，过零触发 |
| 电源输入 | 5V DC | Micro USB接口 |
| 工作温度 | -40°C ~ 85°C | 工业级温度范围 |

### 软件规格
| 参数 | 规格 | 说明 |
|------|------|------|
| Web服务器 | ESP8266WebServer | 支持HTTP/1.1 |
| 网络协议 | TCP/UDP | 设备发现和控制 |
| 数据记录 | 60点温度历史 | 实时温度曲线 |
| 看门狗 | 硬件看门狗 | 系统稳定性保障 |

## 🔧 故障排除

### 常见问题

#### 设备无法启动
- ✅ 检查电源连接
- ✅ 确认5V电源稳定
- ✅ 检查USB数据线质量

#### WiFi连接失败
- ✅ 确认WiFi名称和密码正确
- ✅ 检查路由器信号强度
- ✅ 尝试Captive Portal配网模式

#### 温度读数异常
- ✅ 检查热电偶连接
- ✅ 确认MAX6675模块正常工作
- ✅ 检查引脚定义是否正确

#### Web界面无法访问
- ✅ 确认设备IP地址正确
- ✅ 检查网络连接
- ✅ 重启设备尝试

### LED故障代码
| LED模式 | 故障类型 | 解决方法 |
|---------|----------|----------|
| 🔴 快速双闪 | 温度传感器故障 | 检查热电偶连接 |
| 🟡 三短一长 | WiFi模块故障 | 重启设备或检查天线 |
| 🔵 持续快闪 | 系统异常 | 恢复出厂设置 |

## 📱 移动端使用

### Android APP
项目包含完整的Android控制APP：
- 自动设备发现和连接
- 实时温度监控
- 远程控制功能
- 温度曲线编程

### 网页版移动端
Web界面完全响应式设计，支持：
- 📱 手机浏览器直接访问
- 💻 平板电脑优化界面
- 🖥️ PC端完整功能

## 🔒 安全注意事项

### 电气安全
- ⚠️ 设备涉及220V高压电操作
- ⚠️ 确保继电器负载端完全隔离
- ⚠️ 使用合格的电源线和插座
- ⚠️ 避免在潮湿环境下使用

### 操作安全
- ⚠️ 加热过程中勿触摸加热元件
- ⚠️ 定期检查设备连接状态
- ⚠️ 避免长时间无人值守运行
- ⚠️ 设置合理的温度上限

## 🔄 固件升级

### OTA在线升级（开发中）
未来版本将支持无线固件升级：
- 通过Web界面直接上传新固件
- 升级过程自动备份设置
- 失败自动回滚机制

### 串口升级
当前支持通过串口升级固件：
1. 连接设备到电脑
2. 使用Arduino IDE选择正确端口
3. 上传新版本程序

## 📞 技术支持

### 文档资源
- [电路连接图](电路连接图.md)
- [物料清单](物料清单.md) 
- [安装指南](安装指南.md)
- [故障排除指南](故障排除指南.md)

### 社区支持
- GitHub Issues: 提交技术问题
- 项目Wiki: 详细技术文档
- 讨论区: 用户经验交流

## 📄 许可证信息

本项目采用 **MIT 开源许可证**，允许个人和商业使用，但需保留版权声明。

## ⚖️ 免责声明

本项目涉及高压电操作，使用者应具备相关安全知识和操作经验。作者不对因使用本项目造成的任何设备损坏、人身伤害或财产损失负责。请在专业人士指导下进行操作。

---

**🛠️ 让传统的电烤箱焕发智能新生！**  
**🔥 精准控温，智能烘焙新体验！**

*最后更新: 2024年*  
*文档版本: v1.0*